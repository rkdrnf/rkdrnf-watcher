!function(t){function e(i){if(r[i])return r[i].exports;var s=r[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,i){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)e.d(i,s,function(e){return t[e]}.bind(null,s));return i},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){var i,s,n;const o=r(1);!function(r,o){s=[],void 0===(n="function"==typeof(i=o)?i.apply(e,s):i)||(t.exports=n)}(0,function(){return{Component:o}})},function(t){t.exports=class{constructor(){this._proxies=new Map,this._watched=new Map,this._dirtyProps=new Set,this._callbacks=new Map}step(){this._detectChanges()}watch(t,e){const r=this[t];this._watched.has(t)||(this._callbacks.set(t,e),this._watchForDirectAssignment(t),this._watchForObjectManipulation(t,r),this._watched.set(t,{dirty:!1,val:r}))}_watchForDirectAssignment(t){Object.defineProperty(this,t,{get:()=>this._proxies.get(t),set:e=>{this._updateProp(t,e),this._watchForObjectManipulation(t,e)}})}_watchForObjectManipulation(t,e){return Array.isArray(e)?void this._setArrayListener(t,e):this._isNotNullObject(e)?void this._setObjectListener(t,e):void this._proxies.set(t,e)}_setArrayListener(t,e){this._proxies.set(t,new Proxy(e,{set:(e,r,i)=>Number.isInteger(+r)?(this._updateProp(t,e),e[r]=i,!0):(e[r]=i,!0)}))}_setObjectListener(t,e){this._proxies.set(t,new Proxy(e,{set:(e,r,i)=>(this._updateProp(t,e),e[r]=i,!0)}))}_updateProp(t,e){if(this._watched.get(t).dirty)return void(this._watched.get(t).val=e);const r=this._watched.get(t).val;this._watched.set(t,{old:this._copy(r),dirty:!0,val:e}),this._dirtyProps.add(t)}_copy(t){return Array.isArray(t)?[...t]:this._isNotNullObject(t)?Object.assign({},t):t}_isNotNullObject(t){return"object"==typeof t&&null!==t}_detectChanges(){for(const t of this._dirtyProps)this._checkEquality(t)||this.dispatch(t),this._watched.get(t).dirty=!1,this._dirtyProps.delete(t)}_checkEquality(t){const e=this._watched.get(t);if(!e.dirty)throw new Error("Only dirty props must be passed");const{old:r,val:i}=e;return!!Object.is(r,i)||!(typeof r!=typeof i)&&(Array.isArray(r)?this._compareArray(r,i):!!this._isNotNullObject(r)&&this.compareObject(r,i))}_compareArray(t,e){if(t.length!==e.length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}compareObject(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}dispatch(t){const{old:e,val:r}=this._watched.get(t);console.log(`[${t}] changed from: ${JSON.stringify(e)}, to: ${JSON.stringify(r)}`),this._callbacks.get(t)({old:e,val:r})}}}]);